<br>
<body>
<form [formGroup]="formByCity" class="form-inline md-form mr-auto mb-4">
  <mat-form-field class="example-full-width">
    <input formControlName="city" placeholder="Search by City" aria-label="Search"
           type="text" matInput
           [matAutocomplete]="auto" [formGroup]="formByCity">
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
        {{option}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <button [disabled]="formByCity.invalid|| checkedPresent(city)" id="batonsSubmit"
          class="btn btn-outline-success" (click)="searchByCity($event)">Search By City
  </button>
</form>
<br>
<br>
<br>

<table *ngIf="companies?.length>0" class="table table-hover">

  <thead class="table table-hover">
  <tr>

    <th scope="col">Id</th>
    <th scope="col">Name Company</th>
    <th scope="col">Phone</th>
    <th scope="col">Industry</th>
    <th scope="col">Site</th>
    <th scope="col">Email</th>
    <th scope="col">Company Number</th>
  </tr>
  </thead>
  <tbody>
  <div *ngFor="let company of companies let i = index">
    <button (click)="hideme[i] = !hideme[i];toggle();toggleClass(i)" [hidden]="hideme[i]"
            class="btn btn-outline-success" type="button">Show
    </button>
    <button (click)="hideme[i] = !hideme[i];toggle()" [hidden]="!hideme[i]" class="btn btn-outline-warning"
            type="button">Hidden
    </button>
    <tr>
      <td>{{company.id}}</td>
      <td>{{company.name}}</td>
      <td>{{company.telephone}}</td>
      <td>{{company.keywordsIndustry}}</td>
      <td>{{company.googleUri + "\n" + company.url}}</td>
      <td>{{company.emails}}</td>
      <td>{{company.company_number}}</td>
    </tr>
    <div [@toggleBox]="isOpen ? 'open' : 'closed'" [hidden]="!hideme[i]" [id]="i">
      <ul>
        <p>Company Information</p>
        <li>Company Id - <u>{{company.id}}</u></li>
        <li>Company Name - <u> {{company.name}}</u></li>
        <li>Company Current Status - <u> {{company.current_status}}</u></li>
        <li>Company Land - <u> {{company.registeredoffice}}</u></li>
        <li>Company Jurisdiction - <u>{{company.jurisdiction_code}}</u></li>
        <li>Company Number - <u>{{company.company_number}}</u></li>
        <li>Company Native Number - <u>{{company.native_company_number}}</u></li>
        <li>Company Registered Officer - <u>{{company.registeredoffice}}</u></li>
        <li>Company Register Art - <u>{{company.register_art}}</u></li>
        <li>Company Former Registrar - <u> {{company.former_registrar}}</u></li>
        <li>Company Phone - <u>{{company.telephone}}</u></li>
        <li>Company Fax - <u> {{company.fax}}</u></li>
        <li>Company SiteToWeb - <u>{{company.url}}</u></li>
        <li>Company SiteToGoogle - <u> {{company.googleUri}}</u></li>
        <li>Company Industry Branch - <u> {{company.keywordsIndustry}}</u></li>
        <li>Company Industry Activity - <u> {{company.activity}}</u></li>
        <li>Company Industry Possibility Sector of Activity - <u>{{company.sector_of_activity}}</u></li>
        <li>Company Industry Catalog Activity - <u>{{company.catalog}}</u></li>
        <li>Company Capital - <u>{{company.kapital}}</u></li>
        <li>Company Email - <u> {{company.emails}}    {{company.email}}</u></li>
      </ul>
      <ul *ngFor="let Rabotnik of company.officers">
        <p>Company Officer :</p>
        <li>Company Officer Last Name First Name - <u> {{Rabotnik.lastname}}
          {{Rabotnik.firstname}}</u></li>
        <li> Company Officer City -<u>{{Rabotnik.city}}</u></li>
        <li> Company Officer Position -<u>{{Rabotnik.position}}</u></li>
        <li> Company Officer Title -<u>{{Rabotnik.title}}</u></li>
        <li> Company Officer Type -<u>{{Rabotnik.type}}</u></li>
      </ul>
    </div>
  </div>
  </tbody>

</table>

<app-app-alertvalitation-input [control]="formByCity" errorMessage="Is input invalid"></app-app-alertvalitation-input>


<div id="allertNotFound" class="alert alert-danger" [hidden]="notFound==null"><u>{{notFound}}</u></div>
<br>
<br>

</body>
