<body>
<br>
<br>
<form (ngSubmit)="searcById($event)" [formGroup]="formId" class="decor">
  <div class="form-left-decoration"></div>
  <div class="form-right-decoration"></div>
  <div class="circle"></div>
  <div class="form-inner">
    <app-app-alertvalitation-input *ngIf="alertShouw" [control]="formId"
                                   errorMessage="{{errorMessage}}">
    </app-app-alertvalitation-input>
    <a>Search Company by Id</a>
    <hr>
    <div>
    <input autocapitalize="off" autocomplete="false"
           formControlName="idControl"
           name="idControl"
           id="idInput" placeholder="Search...." spellcheck="false">
    </div>
    <button id="batonsSubmit" type="submit">Search By ID</button>
  </div>
</form>
<app-app-alertvalitation-input *ngIf="alertShouw" [control]="formId" [position]="byid"
                               errorMessage="{{errorMessage}}">
</app-app-alertvalitation-input>
<app-oncompany [company]=company></app-oncompany>
</body>
<script>
    var textInput = document.querySelector('input');
    var inputWrap = textInput.parentElement;
    var inputWidth = parseInt(getComputedStyle(inputWrap).width);
    var svgText = Snap('.line');
    var qCurve = inputWidth / 2;  // For correct curving on diff screen sizes
    var textPath = svgText.path("M0 0 " + inputWidth + " 0");
    var textDown = function () {
        textPath.animate({d: "M0 0 Q" + qCurve + " 40 " + inputWidth + " 0"}, 150, mina.easeout);
    };
    var textUp = function () {
        textPath.animate({d: "M0 0 Q" + qCurve + " -30 " + inputWidth + " 0"}, 150, mina.easeout);
    };
    var textSame = function () {
        textPath.animate({d: "M0 0 " + inputWidth + " 0"}, 200, mina.easein);
    };
    var textRun = function () {
        setTimeout(textDown, 200);
        setTimeout(textUp, 400);
        setTimeout(textSame, 600);
    };

    (function () {
        textInput.addEventListener('focus', function () {
            var parentDiv = this.parentElement;
            parentDiv.classList.add('active');
            textRun();
            this.addEventListener('blur', function () {
                var rg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.]{3,9})+\.([A-Za-z]{2,4})$/;
                this.value == 0 ? parentDiv.classList.remove('active') : null;
                !rg.test(this.value) && this.value != 0 ?
                    (parentDiv.classList.remove('valid'), parentDiv.classList.add('invalid'), parentDiv.style.transformOrigin = "center")
                    : rg.test(this.value) && this.value != 0 ?
                    (parentDiv.classList.add('valid'), parentDiv.classList.remove('invalid'), parentDiv.style.transformOrigin = "bottom") : null;
            });
            parentDiv.classList.remove('valid', 'invalid')
        });
    })();
</script>
